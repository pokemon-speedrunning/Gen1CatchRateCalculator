(()=>{var f=Object.defineProperty;var Y=l=>f(l,"__esModule",{value:!0});var O=(l,m)=>{Y(l);for(var a in m)f(l,a,{get:m[a],enumerable:!0})};var d={};O(d,{default:()=>H});var{default:q}=__ALEPH__.pack["https://deno.land/x/aleph@v0.3.0-beta.19/framework/react/components/Head.ts"],{useDeno:Q}=__ALEPH__.pack["https://deno.land/x/aleph@v0.3.0-beta.19/framework/react/mod.ts"],{default:e,useState:t}=__ALEPH__.pack["https://esm.sh/react@17.0.2"],{default:U}=__ALEPH__.pack["/components/navigation.tsx"],{default:N}=__ALEPH__.pack["/components/progress.tsx"],{BallSelect:Z,GameSelect:z,CatchRateInput:J,CurrentHPInput:K,MaxHPInput:T,StatusInput:X,NumberFormat:$}=__ALEPH__.pack["/components/inputs/index.tsx"],{default:v}=__ALEPH__.pack["/lib/pokeballs.json"];function H(){let[l,m]=t("RB"),[a,x]=t(v[Object.keys(v)[0]]),[p,P]=t(0),[E,k]=t(1),[h,A]=t(1),[i,B]=t(0),[r,L]=t(!0),[S,w]=t(0),[F,y]=t(0),[g,_]=t(!1),C={RB:[520,564],Y:[516,560]},I={RB:0,Y:152};function R(u){let c=u.toString(2).match(/1/g);return c!==null?c.length:0}let D=Q(null,null,"useDeno-ZoVLyFsy8VeOqYymHCBhgfpQNg"),j=()=>{_(!0);function u(c){let n=Math.max(E/4>>0&255,1),s=h*255/a.ballFactor>>0,o=s/n>>0,M=Math.min(n>0?o:s,255),G={catchRate:p,ballRerollCutoff:a.ballRerollCutoff,ballReroll1:a.reroll1,ballReroll2:a.reroll2,status:i,hpFactor:M,reroll1Count:C[l][0],reroll2Count:C[l][1],roll2Count:I[l]+(R(s)+R(o))*144+48*(i===12?1:0)+52*(i===25?1:0)+22308+60*(["Ultra Ball","Safari Ball"].includes(a.ballName)?1:0)+48*(a.ballName==="Great Ball"?1:0)};return new Promise((V,ee)=>{let b=new Worker("catchRateWorker.js");b.onmessage=function(W){V(W)},b.postMessage(G)})}Promise.all([...Array(16)].map((c,n)=>u(n))).then(c=>{let n=0,s=0;c.forEach(function(o){n+=o.data[0],s+=o.data[1]}),w(parseFloat(parseFloat((n/671088.64).toString()).toFixed(2))),y(parseFloat(parseFloat((100*s/16).toString()).toFixed(2))),_(!1)})};return e.createElement("div",{className:"page"},e.createElement(q,null,e.createElement("title",null,"Pokemon Speedrunning - Advanced Gen 1 Catch Rate Calculator")),e.createElement(U,null),e.createElement("div",{className:"container-fluid"},e.createElement("form",null,e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(z,{onChange:m})),e.createElement("div",{className:"col"},e.createElement(Z,{onChange:x})),e.createElement("div",{className:"col"},e.createElement(J,{isHex:r,catchRate:p,onChange:P}))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(K,{isHex:r,currentHP:E,onChange:k})),e.createElement("div",{className:"col"},e.createElement(T,{isHex:r,maxHP:h,onChange:A})),e.createElement("div",{className:"col"},e.createElement(X,{isHex:r,status:i,onChange:B}))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement($,{isHex:r,onChange:L}))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement("button",{onClick:u=>j(),className:"btn btn-primary",type:"button"},g?e.createElement("span",{className:"spinner-border spinner-border-sm",role:"status"}):"",g?" Loading...":"Check Catch Rate"))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(N,{progressName:"Actual Catch Chance",progressBarID:"actualRate",progressValue:S}))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement(N,{progressName:"Intended Catch Chance",progressBarID:"intendedRate",progressValue:F})))),e.createElement("hr",null),e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement("p",{className:"copyinfo"},"Built by Aleph.js in Deno ",D)))))}__ALEPH__.pack["/pages/advanced.tsx"]=d;})();
