(()=>{var R=Object.defineProperty;var Y=l=>R(l,"__esModule",{value:!0});var O=(l,m)=>{Y(l);for(var a in m)R(l,a,{get:m[a],enumerable:!0})};var p={};O(p,{default:()=>x});var{default:q}=__ALEPH__.pack["https://deno.land/x/aleph@v0.3.0-beta.19/framework/react/components/Head.ts"],{useDeno:Q}=__ALEPH__.pack["https://deno.land/x/aleph@v0.3.0-beta.19/framework/react/mod.ts"],{default:e,useState:t}=__ALEPH__.pack["https://esm.sh/react@17.0.2"],{default:U}=__ALEPH__.pack["/components/navigation.tsx"],{default:H}=__ALEPH__.pack["/components/progress.tsx"],{BallSelect:Z,GameSelect:z,AdvancedInput:d,NumberFormat:J}=__ALEPH__.pack["/components/inputs/index.tsx"],{default:N}=__ALEPH__.pack["/lib/pokeballs.json"];function x(){let[l,m]=t("RB"),[a,P]=t(N[Object.keys(N)[0]]),[h,k]=t(0),[E,A]=t(1),[f,B]=t(1),[i,S]=t(0),[o,L]=t(!0),[w,y]=t(0),[F,D]=t(0),[g,C]=t(!1),_={RB:[520,564],Y:[516,560]},M={RB:0,Y:152};function v(u){let c=u.toString(2).match(/1/g);return c!==null?c.length:0}let T=Q(null,null,"useDeno-ZoVLyFsy8VeOqYymHCBhgfpQNg"),j=()=>{C(!0);function u(c){let n=Math.max(E/4>>0&255,1),s=f*255/a.ballFactor>>0,r=s/n>>0,G=Math.min(n>0?r:s,255),I={catchRate:h,ballRerollCutoff:a.ballRerollCutoff,ballReroll1:a.reroll1,ballReroll2:a.reroll2,status:i,hpFactor:G,reroll1Count:_[l][0],reroll2Count:_[l][1],roll2Count:M[l]+(v(s)+v(r))*144+48*(i===12?1:0)+52*(i===25?1:0)+22308+60*(["Ultra Ball","Safari Ball"].includes(a.ballName)?1:0)+48*(a.ballName==="Great Ball"?1:0)};return new Promise((V,K)=>{let b=new Worker("/Gen1CatchRateCalculator/catchRateWorker.js");b.onmessage=function(W){V(W)},b.postMessage(I)})}Promise.all([...Array(16)].map((c,n)=>u(n))).then(c=>{let n=0,s=0;c.forEach(function(r){n+=r.data[0],s+=r.data[1]}),y(parseFloat(parseFloat((n/671088.64).toString()).toFixed(2))),D(parseFloat(parseFloat((100*s/16).toString()).toFixed(2))),C(!1)})};return e.createElement("div",{className:"page"},e.createElement(q,null,e.createElement("title",null,"Pokemon Speedrunning - Advanced Gen 1 Catch Rate Calculator")),e.createElement(U,null),e.createElement("div",{className:"container-fluid"},e.createElement("form",null,e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(z,{onChange:m})),e.createElement("div",{className:"col"},e.createElement(Z,{onChange:P})),e.createElement("div",{className:"col"},e.createElement(d,{name:"catchRate",label:"Encounter Catch Rate",helpText:"The Catch Rate of the Pokemon",isHex:o,value:h,onChange:k}))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(d,{name:"currentHP",label:"Encounter Current HP",helpText:"The Current HP of the Pokemon",isHex:o,value:E,onChange:A})),e.createElement("div",{className:"col"},e.createElement(d,{name:"maxHP",label:"Encounter Max HP",helpText:"The Max HP of the Pokemon",isHex:o,value:f,onChange:B})),e.createElement("div",{className:"col"},e.createElement(d,{name:"status",label:"Status Effect",helpText:"Status effect modifier value if any",isHex:o,value:i,onChange:S}))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(J,{isHex:o,onChange:L}))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement("button",{onClick:u=>j(),className:"btn btn-primary",type:"button"},g?e.createElement("span",{className:"spinner-border spinner-border-sm",role:"status"}):"",g?" Loading...":"Check Catch Rate"))),e.createElement("div",{className:"row mb-2"},e.createElement("div",{className:"col"},e.createElement(H,{progressName:"Actual Catch Chance",progressBarID:"actualRate",progressValue:w}))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement(H,{progressName:"Intended Catch Chance",progressBarID:"intendedRate",progressValue:F})))),e.createElement("hr",null),e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement("p",{className:"copyinfo"},"Built by Aleph.js in Deno ",T)))))}__ALEPH__.pack["/pages/advanced.tsx"]=p;})();
