const gameSpecificCycleCounts={RB:[520,564],Y:[516,560]},gameRoll2Counts={RB:0,Y:152};var actualRateBar=$(".actualRateGroup"),intendedRateBar=$(".intendedRateGroup"),loadingSpinner=$(".spinner-border");function setRateBar(e,a){a=parseFloat(a).toFixed(2),e.find("p.rate").html(a+"%"),e.find(".progress-bar").css("width",a+"%").attr("aria-valuenow",a)[0].className="progress-bar "+(a>=50?"bg-success":"bg-danger")}function getJsonValue(e){return JSON.parse(e.val())}function getIntValue(e){return parseInt(e.val())}function getHexValue(e){return parseInt("0x"+e.val())}function bitCount(e){return e.toString(2).match(/1/g).length}$("form button").on("click",(function(){loadingSpinner.removeClass("d-none");const e=$("#game").val(),a=getJsonValue($("#ball"));var t,l,n,r;"decimal"===$("#numberFormat").val()?(t=getIntValue($("#catchRate")),l=getIntValue($("#currentHP")),n=getIntValue($("#maxHP")),r=getIntValue($("#status"))):"hex"===$("#numberFormat").val()&&(t=getHexValue($("#catchRate")),l=getHexValue($("#currentHP")),n=getHexValue($("#maxHP")),r=getHexValue($("#status")));const o=Math.max(l/4>>0&255,1);let u=255*n/a.ballFactor>>0,s=u/o>>0,c=Math.min(o>0?s:u,255);const i={catchRate:t,ballRerollCutoff:a.ballRerollCutoff,ballReroll1:a.reroll1,ballReroll2:a.reroll2,status:r,hpFactor:c,reroll1Count:gameSpecificCycleCounts[e][0],reroll2Count:gameSpecificCycleCounts[e][1],roll2Count:gameRoll2Counts[e]+144*(bitCount(u)+bitCount(s))+48*(12===r)+52*(25===r)+22308+60*["Ultra Ball","Safari Ball"].includes(a.ballName)+48*("Great Ball"===a.ballName)};new Promise((e,a)=>{const t=new Worker("js/catchRateWorker.js");t.onmessage=function(a){e(a.data)},t.postMessage(i)}).then(e=>{let a=e[0],t=e[1];loadingSpinner.addClass("d-none"),setRateBar(actualRateBar,a/41943.04),setRateBar(intendedRateBar,100*t)})}));
//# sourceMappingURL=../maps/advanced.js.map
