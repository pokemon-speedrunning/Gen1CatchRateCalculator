const gameSpecificCycleCounts={RB:[520,564],Y:[516,560]},gameRoll2Counts={RB:0,Y:152};var actualRateBar=$(".actualRateGroup"),intendedRateBar=$(".intendedRateGroup"),loadingSpinner=$(".spinner-border");function setRateBar(e,t){t=parseFloat(t).toFixed(2),e.find("p.rate").html(t+"%"),e.find(".progress-bar").css("width",t+"%").attr("aria-valuenow",t)[0].className="progress-bar "+(t>=50?"bg-success":"bg-danger")}function getJsonValue(e){return JSON.parse(e.val())}function getIntValue(e){return parseInt(e.val())}function bitCount(e){return e.toString(2).match(/1/g).length}$("form button").on("click",(function(){loadingSpinner.removeClass("d-none");const e=$("#game").val(),t=getJsonValue($("#ball")),a=getIntValue($("#catchRate")),l=getIntValue($("#currentHP")),n=getIntValue($("#maxHP")),r=getIntValue($("#status")),o=l/4>>0;let s=255*n/t.ballFactor>>0,u=s/o>>0,c=Math.min(o>0?u:s,255);const i={catchRate:a,ballRerollCutoff:t.ballRerollCutoff,ballReroll1:t.reroll1,ballReroll2:t.reroll2,status:r,hpFactor:c,reroll1Count:gameSpecificCycleCounts[e][0],reroll2Count:gameSpecificCycleCounts[e][1],roll2Count:gameRoll2Counts[e]+144*(bitCount(s)+bitCount(u))+48*(12===r)+52*(25===r)+22308+60*["Ultra Ball","Safari Ball"].includes(t.ballName)+48*("Great Ball"===t.ballName)};new Promise((e,t)=>{const a=new Worker("js/catchRateWorker.js");a.onmessage=function(t){e(t.data)},a.postMessage(i)}).then(e=>{let t=e[0],a=e[1];loadingSpinner.addClass("d-none"),setRateBar(actualRateBar,t/41943.04),setRateBar(intendedRateBar,100*a)})}));
//# sourceMappingURL=../maps/advanced.js.map
